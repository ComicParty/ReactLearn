<!--  此页内容是根据这个网址的 
http://zcfy.baomitu.com/article/meet-jsx-again-1537.html 「」开头
部分进行操作的-->
<!DOCTYPE html>
<html>
 
<head>
 <meta charset="UTF-8">
  <title>React! React! React!</title>
  <script src="https://fb.me/react-0.14.7.js"></script>
  <script src="https://fb.me/react-dom-0.14.7.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
</head>
 
<body>
  <div id="container"></div>
  <script type="text/babel">
/*
  1.setInterval 函数每 1000 微秒（即 1秒）调用一段代码。

  React 组件暴露的三个 API：
  2.setState 该方法允许你修改 state 对象的值。
  3.getInitialState 该方法在组件  挂载   之前运行，并允许你修改组件的 state 对象。
    注意这里的return 用——{
  4.componentDidMount 该方法在组件渲染后被调用(or mounted as React calls it).。 
 */
    //LightningCounter 组件是所有行为要发生的地方
var LightningCounter = React.createClass({
      getInitialState:function(){
        return{
          strikes:0
        };
      },
      timerTick:function(){
      console.log(this.state.strikes +" TimerTickRow1"); //从0开始打印，按时间递增
        this.setState({
          strikes:this.state.strikes + 100
        });
        console.log(this.state.strikes+" TimerTickRow5"); //从100开始打印，按时间打印
      },
      componentDidMount:function(){
        console.log(this.state.strikes +" row1"); //从0开始打印，只打印1次
        setInterval(this.timerTick,1000);
        console.log(this.state.strikes +" row3"); //从0开始打印，只打印1次
      },
      render:function(){
        return(
          <h1>{this.state.strikes}</h1>
        );
      }
    });

 //1. 首先，我们有一个组件 LightningCounterDisplay：
    var LightningCounterDisplay = React.createClass({
        render: function() {
 
          var divStyle = { 
          //这个组件的绝大部分代码是负责圆角背景的样式信息的 divStyle 对象。
            width: 250,
            textAlign: "center",
            backgroundColor: "black",
            padding: 40,
            fontFamily: "sans-serif",
            color: "#999",
            borderRadius: 10
          };
  
          return(
            <div style={divStyle}>
              <LightningCounter/>
            </div>
          );
          //return 函数返回一个包围 LightningCounter 组件的 div 元素。
        }
    });
    
    
    ReactDOM.render(
    //ReactDOM.render( 只是将 LightningCounterDisplay 组件推到 DOM 中的 container 元素。
      <LightningCounterDisplay/>,
      document.querySelector("#container")
    );
    //我们看到的最终结果是，来自ReactDOM.render 方法、 以及LightningCounterDisplay 和LightningCounter 组件的标记组合。
  </script>
</body>
 
</html>